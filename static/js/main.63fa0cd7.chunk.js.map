{"version":3,"sources":["utilities/alarm-functions.ts","components/SettingsForm.tsx","components/SnoozeForm.tsx","components/TimeDisplay.tsx","components/Timer.tsx","components/Timers.tsx","components/TimerAlertPrompt.tsx","components/TimerBox.tsx","index.tsx"],"names":["store","window","localStorage","alarm_functions_localStorage","getItem","key","setItem","value","toString","clear","removeItem","Object","defineProperty","setStorageItem","storage","e","getStorageItem","components_SettingsForm","_super","SettingsForm","props","_this","call","this","formOptions","idx","react","length","state","__assign","initialState","updateEntry","bind","submitEntry","resetState","__extends","prototype","entryTitle","entryPresetTargetTime","entryHours","entryMinutes","entryCycleSelect","active","newObj","assign","setState","evt","newVal","currentTarget","name","parseInt","preventDefault","Error","countHours","countMinutes","entryCycleList","__spreadArrays","setTimer","render","setSelectOptions","maxCount","stepCount","optionTags","ii","push","setSelectOptionsHours","setSelectOptionsMinutes","stepCountMinutes","timeProps","required","onChange","entryTitleExists","countDownChars","titleCount","Form","onSubmit","className","FormGroup","controlId","Col","xs","sm","md","type","id","placeholder","titleTemp","maxLength","size","autoFocus","style","display","data-type","map","cycle","offset","span","components_SnoozeForm","SnoozeForm","snoozeTime","updateSnooze","setLocalSnooze","SnoozeForm_extends","setSnooze","Array","from","i","entry","components_TimeDisplay","TimeDisplay","secondsElapsed","interval","tTimeDisplay","tick","TimeDisplay_extends","tDateDiff","tDateHr","tDateMin","tDateSec","tmpTimeDisplay","showSeconds","targetTime","Date","now","componentDidMount","setInterval","componentWillUnmount","clearInterval","components_Timer","Timer","toggleTimeout","removeTimer","Timer_extends","timerTDs","timeoutEntry","timeoutList","find","elem","timerDisplayEntry","timerDisplayList","timer","timeDisplay","destination","timerIsX2b","title","substr","timerTitleDone","opacity","href","target","timeOfDay","colSpan","glyphElement","index_es","icon","free_solid_svg_icons_index_es","checked","onClick","components_Timers","Timers","showAppLinks","toggleOurApps","Timers_extends","newShowStat","timerList","Table","responsive","components_TimerAlertPrompt","TimerAlertPrompt","timerSnooze","timerReset","timerDisable","TimerAlertPrompt_extends","shouldComponentUpdate","nextProps","nextState","modalTimerId","_a","show","modalTitle","cycleName","timerEntryTime","isTimer","nowModalTitle","timerEntry","presetTargetTime","alarmMsg","modalProps","onHide","Modal","TimerAlertPrompt_assign","Body","Button","variant","resetModal","components_TimerBox","TimerBox","storedSnoozeTime","stateSnoozeTime","storedShowSeconds","stateShowSeconds","toLocaleLowerCase","storedTimerList","stateTimerList","JSON","parse","timeoutQueue","showModal","currentTimerId","timeoutMax","setTimerCallback","updateTimer","addRemoveTimeout","getLastId","deleteTimeout","createTimeout","showNotification","getTimeDiff","getTimeDiffUpdate","addToTimeoutQueue","removeFromTimeoutQueue","checkTimeoutQueue","setNotification","TimerBox_extends","initializeState","setAlarms","forEach","setTimeout","componentDidUpdate","prevProps","ourExpirationItems","expiredId","nPxId","handleAppUpdate","whichEvent","expiredId_1","useEvent","internalUseId","internalTimerItem","item","entryCycle","removeAllTimers","entryId","newTimerList","newItem","internalTimerItemIdx","findIndex","splice","stringify","updateTimerCallback","entryHoursPad","entryMinutesPad","lastIdx","nextId","concat","slice","filter","timerItem","refreshAlarms","timerId","refreshList","timerIdx","whichTask","updateTimeout","clearall","timeoutTimerId","newTimeoutList","newTimerDisplayList","clearTimeout","newTimeout","newTimeoutEntry","newTimerDisplayEntry","thisTimeDiff","thisTimeDiffMax","timerPresetTargetTime","timerHour","split","timerMinute","timerCycle","isSnooze","thisTimeDiffUpdate","thisTimeoutWait","thisTimeoutWaitMax","tmpTimerOldId","tmpTimeoutQueue","tHour","tMinute","tmpDate","timerDate","getDate","addDate","addHours","addMinutes","currentMinutes","getMinutes","setMilliseconds","setSeconds","setMinutes","setHours","getHours","setDate","getTime","onOff","newTimerList_1","thisEntryId","updatePassiveNotification","prefs","prefNotification","alert","triggerAlarm","SettingsFormProps","sClass","allowTimers","showPanel","children","Row","TimerBox_assign","reduce","agg","curObj","lastId","src_App","App","src_extends","reRender","react_dom","ourExpirations","currentItems","getPrefs","document","getElementById","getPopup","domApplyTo","fetchAsync","getUrl","fetch","method","sent","text","initParser","DOMParser","applyPrefs","x2bApplyTo","querySelector","then","prefData","popupPrefsScript","domTopBoxH1","domTopBoxH1Parent","docAbout","prefsData","trim","docPrefs","parseFromString","div1","querySelectorAll","div2","appendChild","createElement","src","async","parentNode","insertBefore","nextSibling","catch","console","log","error","data","popupScript","dataLeftIdx","indexOf","dataRightIdx","newData","substring","doc"],"mappings":"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","file":"static/js/main.63fa0cd7.chunk.js","sourcesContent":["/*\n    Storage (local; client-side [window])\n    https://developer.mozilla.org/en-US/docs/Web/API/Storage\n*/\n\n/*  STORAGE MOCKUP FOR TESTING (jsdom)  */\n\nif (typeof(window.localStorage) === 'undefined' || window.localStorage === null) {\n\n    // For Testing: Apparently you can disregard the TypeScript errors.\n\n    interface LocalStorageState {\n        [key: string]: string;\n    }\n\n    var localStorage = (function () {\n        let store: LocalStorageState;\n        return {\n            getItem: function (key: string) {\n                return store[key];\n            },\n            setItem: function (key: string, value: string) {\n                store[key] = value.toString();\n            },\n            clear: function () {\n                store = {};\n            },\n            removeItem: function (key: string) {\n                delete store[key];\n            }\n        };\n    })();\n    Object.defineProperty(window, 'localStorage', { value: localStorage });\n}\n\n/*  STORAGE FUNCTIONS  */\n\nexport const setStorageItem = (storage: Storage, key: string, value: string) => {\n    try {\n        storage.setItem(key, value);\n    } catch (e) {\n        // console.error(e)\n    }\n};\n\nexport const getStorageItem = (storage: Storage, key: string) => {\n    try {\n        return storage.getItem(key);\n    } catch (e) {\n        // console.error(e)\n        return null;\n    }\n};\n\nexport const clearStorageItem = (storage: Storage, key: string) => {\n    try {\n        return storage.removeItem(key);\n    } catch (e) {\n        // console.error(e)\n        return null;\n    }\n};\n","import * as React from 'react';\n\nimport { Form, FormGroup, Col } from 'react-bootstrap';\n\ninterface SettingsFormState {\n    entryTitle: string;\n    entryPresetTargetTime: number;\n    entryHours: number;\n    entryMinutes?: number;\n    entryCycleSelect?: number; // [daily|hourly|every minute]\n    active?: boolean;\n}\n\ninterface SettingsFormProps {\n    titleCount: number;\n    titleTemp: string;\n    countHours: number;\n    countMinutes: number;\n    stepCountMinutes: number;\n    entryCycleList: string[];\n    setTimer: (\n        entryTitle: string,\n        entryPresetTargetTime: number,\n        entryHours: number,\n        entryMinutes: number,\n        entryCycle: number\n    ) => void;\n}\n\nclass SettingsForm extends React.Component<SettingsFormProps, SettingsFormState> {\n    // public static propTypes = {\n    //     // refreshWidgets: React.PropTypes.func.isRequired,\n    //     // widgets: React.PropTypes.arrayOf(\n    //     //         React.PropTypes.instanceOf((Widget))).isRequired,\n    //     entry : React.PropTypes.object.isRequired,\n    //     editId : React.PropTypes.number.isRequired,\n    //     yieldRouteHistoryBlock : React.PropTypes.bool.isRequired,\n    //     editEntry : React.PropTypes.func.isRequired,\n    //     editEntryCancel : React.PropTypes.func.isRequired,\n    //     deleteEntry : React.PropTypes.func.isRequired\n    // };\n    // public static defaultProps = {\n    //     // widgets: [],\n    // };\n    constructor(props: SettingsFormProps) {\n        super(props);\n\n        this.state = { ...this.initialState() };\n\n        this.updateEntry = this.updateEntry.bind(this);\n        this.submitEntry = this.submitEntry.bind(this);\n        this.resetState = this.resetState.bind(this);\n    }\n    initialState() {\n        return {\n            entryTitle: '',\n            entryPresetTargetTime: 0,\n            entryHours: 0,\n            entryMinutes: 0,\n            entryCycleSelect: 0, // [daily|hourly|every minute]\n            active: false\n        };\n    }\n    resetState() {\n        const newObj = Object.assign({}, {...this.state}, {...this.initialState()});\n        this.setState( newObj );\n    }\n    updateEntry(evt: React.FormEvent<HTMLSelectElement> | React.FormEvent<HTMLInputElement>) {\n        const targetName = evt.currentTarget.name;\n\n        let newVal;\n\n        // newVal = evt.currentTarget.dataset.type === 'number'\n        // ? parseInt(evt.currentTarget.value, 10) : evt.currentTarget.value,\n        switch (targetName) {\n            case 'entryTitle':\n                newVal = evt.currentTarget.value;\n                this.setState({ entryTitle: newVal });\n                break;\n            case 'entryHours':\n                newVal = parseInt(evt.currentTarget.value, 10);\n                this.setState({ entryHours: newVal });\n                break;\n            case 'entryMinutes':\n                newVal = parseInt(evt.currentTarget.value, 10);\n                this.setState({ entryMinutes: newVal });\n                break;\n            case 'entryCycleSelect':\n                newVal = parseInt(evt.currentTarget.value, 10);\n                this.setState({ entryCycleSelect: newVal });\n                break;\n            default:\n                break;\n        }\n        // this.setState({ [targetName]: newVal });\n    }\n    submitEntry(evt: React.FormEvent) {\n        evt.preventDefault();\n\n        if ( typeof(this.state.entryTitle) !== 'string' || this.state.entryTitle.length === 0 ) {\n            throw new Error('A [Title] is required');\n        } else if (\n                (typeof(this.state.entryHours) !== 'number' || typeof(this.state.entryMinutes) !== 'number') ||\n                (this.state.entryHours < 0 || this.state.entryHours >= this.props.countHours) ||\n                (this.state.entryMinutes < 0 || this.state.entryMinutes >= this.props.countMinutes)\n            ) {\n            throw new Error('Invalid time set: It should be [0-' +\n                            (this.props.countHours - 1) + ']:[0-' +\n                            (this.props.countMinutes - 1) + ']');\n        } else if (\n                (typeof(this.state.entryCycleSelect) !== 'number') ||\n                (this.state.entryCycleSelect < 0 || this.state.entryCycleSelect >= this.props.entryCycleList.length)\n            ) {\n            throw new Error('Invalid Cycle: It should be one of [' + [...this.props.entryCycleList] + ']');\n        } else {\n\n            // FORM DATA IS GOOD\n\n            // -- Send form data back to parent component callback\n            this.props.setTimer(\n                this.state.entryTitle,\n                this.state.entryPresetTargetTime,\n                this.state.entryHours,\n                this.state.entryMinutes,\n                this.state.entryCycleSelect);\n\n            // -- Reset local state\n            this.resetState();\n        }\n    }\n    formOptions = (idx: number) => {\n            // Pre-ES8 (Pre-ES2017)\n            // <option key={idx} value={idx}>{idx.toString().length === 1 ? '0'+idx : idx}</option>\n            // ES8 (ES2017) - Couldn't get to work with Jest/Testing\n            // <option key={idx} value={idx}>{idx.toString().padStart(2, '0')}</option>\n        return (\n            <option key={idx} value={idx}>{idx.toString().length === 1 ? '0' + idx : idx}</option>\n        );\n    }\n    render() {\n        const setSelectOptions = (maxCount: number, stepCount = 1) => {\n                let optionTags = [];\n                for (let ii = 0; ii < maxCount; ii += stepCount) {\n                    optionTags.push( this.formOptions(ii) );\n                }\n                return optionTags;\n            },\n            setSelectOptionsHours = setSelectOptions( this.props.countHours ),\n            setSelectOptionsMinutes = setSelectOptions( this.props.countMinutes, this.props.stepCountMinutes ),\n            timeProps = {\n                required: true,\n                onChange: this.updateEntry\n                // onChange: (e) => this.updateEntry(e)\n            },\n            entryTitleExists = this.state.entryTitle,\n            countDownChars = (this.props.titleCount - (entryTitleExists ? entryTitleExists.length : 0));\n\n        return (\n            <Form onSubmit={this.submitEntry}>\n                <h2 className=\"hidden\">Create a Timer</h2>\n                <FormGroup controlId=\"formHorizontalTimerTitle\">\n                    <Col xs={5} sm={4} md={5}>\n                        Timer Title <small>({countDownChars} chars)</small>\n                    </Col>\n                    <Col xs={7} sm={8} md={7}>\n                        <input\n                            type=\"text\"\n                            id=\"entryTitle\"\n                            name=\"entryTitle\"\n                            {...timeProps}\n                            value={this.state.entryTitle}\n                            placeholder={this.props.titleTemp}\n                            maxLength={this.props.titleCount}\n                            size={this.props.titleCount}\n                            autoFocus={true}\n                            // { ref=\"textInput\" }\n                            // ref={(input) => { this.textInput = input; }}\n                        />\n                    </Col>\n                </FormGroup>\n                <FormGroup controlId=\"formHorizontalTimerTime\" className=\"formHorizontalTimerTime\">\n                    <Col xs={5} sm={4} md={5}>\n                        Time <small>(hrs/ mins/ cycle)</small>\n                    </Col>\n                    <Col xs={7} sm={8} md={7}>\n                            <label style={{display: 'none'}}>Time <small>(hrs/ mins/ cycle)</small></label>\n                            <select\n                                id=\"entryTimeHr\"\n                                name=\"entryHours\"\n                                data-type=\"number\"\n                                {...timeProps}\n                                value={this.state.entryHours}\n                                size={1}\n                            >\n                                {setSelectOptionsHours}\n                            </select>\n                            <label style={{display: 'none'}}>Minutes</label>\n                            <select\n                                id=\"entryTimeMin\"\n                                name=\"entryMinutes\"\n                                data-type=\"number\"\n                                {...timeProps}\n                                value={this.state.entryMinutes}\n                                size={1}\n                            >\n                                {setSelectOptionsMinutes}\n                            </select>\n                            <label style={{display: 'none'}}>Cycle</label>\n                            <select\n                                id=\"entryTimeCycle\"\n                                name=\"entryCycleSelect\"\n                                data-type=\"number\"\n                                {...timeProps}\n                                value={this.state.entryCycleSelect}\n                                size={1}\n                            >\n                                {this.props.entryCycleList.map( (cycle, idx) =>\n                                    <option key={idx} value={idx}>{cycle}</option>\n                                )}\n                            </select>\n                    </Col>\n                </FormGroup>\n                <FormGroup>\n                    {/* <Col xsOffset={5} xs={7} smOffset={4} sm={8} mdOffset={5} md={7} className=\"add-button-div\"> */}\n                    <Col xs={{ offset: 5, span: 7 }} sm={{ offset: 4, span: 8 }} md={{ offset: 5, span: 7 }} className=\"add-button-div\">\n                        <div className=\"label hidden\">Add It!!!</div>\n                        <button id=\"entryButton\" className=\"btn\">Add Your Timer</button>\n                    </Col>\n                </FormGroup>\n            </Form>\n        );\n    }\n}\n\nexport default SettingsForm;","import * as React from 'react';\n\ninterface SnoozeFormState {\n    snoozeTime: number;\n}\n\ninterface SnoozeFormProps {\n    snoozeTime: number;\n    setSnooze: (snoozeTime: number) => void;\n}\n\nclass SnoozeForm extends React.Component<SnoozeFormProps, SnoozeFormState> {\n    constructor(props: SnoozeFormProps) {\n        super(props);\n        this.state = {\n            snoozeTime: this.props.snoozeTime\n        };\n        this.updateSnooze = this.updateSnooze.bind(this);\n        this.setLocalSnooze = this.setLocalSnooze.bind(this);\n    }\n    setLocalSnooze(evt: React.SyntheticEvent<HTMLSelectElement>) {\n        this.setState({ snoozeTime: parseInt(evt.currentTarget.value, 10) }, this.updateSnooze);\n    }\n    updateSnooze() {\n        this.props.setSnooze(this.state.snoozeTime);\n    }\n    render() {\n        return (\n            <select onChange={this.setLocalSnooze} value={this.state.snoozeTime}>\n                { Array.from(Array(15), (e, i) => (i + 1)).map((entry, idx) => {\n                    return (\n                        <option key={idx}>{entry}</option>\n                    );\n                }) }\n            </select>\n        );\n    }\n}\n\nexport default SnoozeForm;","import * as React from 'react';\n\ninterface TimeDisplayState {\n    secondsElapsed: number;\n    interval: number;\n    tTimeDisplay: string;\n}\n\ninterface TimeDisplayProps {\n    targetTime: number;\n    showSeconds: boolean;\n}\n\nclass TimeDisplay extends React.Component<TimeDisplayProps, TimeDisplayState> {\n    constructor(props: TimeDisplayProps) {\n        super(props);\n        this.state = {\n            secondsElapsed: 0,\n            interval: -1,\n            tTimeDisplay: ''\n        };\n        this.tick = this.tick.bind(this);\n    }\n    tick() {\n        // this.setState({secondsElapsed: this.state.secondsElapsed + 1})\n        let tDateDiff: number,\n            tDateHr,\n            tDateMin,\n            tDateSec,\n            tmpTimeDisplay,\n            showSeconds = false;\n\n        if (this.props.targetTime === 0) {\n            this.setState({ tTimeDisplay: '' });\n        } else {\n            tDateDiff = (this.props.targetTime - Date.now());\n            // tDateMin = Math.floor(tDateDiff / 60000)\n            // tDateSec = ((tDateDiff % 60000) / 1000).toFixed(0)\n\n            // tDateSec = (tDateDiff / 1000) % 60;\n            // tDateMin = (tDateDiff / (1000 * 60)) % 60;\n            // tDateHr = (tDateDiff / (1000 * 60 * 60)) % 24;\n            tDateSec = parseInt(((tDateDiff / 1000) % 60).toString(), 10);\n            tDateMin = parseInt(((tDateDiff / (1000 * 60)) % 60).toString(), 10);\n            tDateHr = parseInt(((tDateDiff / (1000 * 60 * 60))).toString(), 10);\n\n            tDateHr = (tDateHr <= 0) ? 0 : tDateHr;\n            tDateMin = (tDateMin <= 0) ? 0 : tDateMin;\n            tDateSec = (tDateSec <= 0) ? 0 : tDateSec;\n\n            showSeconds = (tDateHr === 0 && tDateMin === 0) || this.props.showSeconds;\n\n            tDateHr = (tDateHr < 10) ? '0' + tDateHr : tDateHr;\n            tDateMin = (tDateMin < 10) ? '0' + tDateMin : tDateMin;\n            tDateSec = (tDateSec < 10) ? '0' + tDateSec : tDateSec;\n\n            // return minutes + \":\" + (seconds < 10 ? '0' : '') + seconds\n            // return (seconds == 60 ? (minutes+1) + \":00\" : minutes + \":\" + (seconds < 10 ? '0' : '') + seconds)\n\n            if (!showSeconds) {\n                tmpTimeDisplay = tDateHr + ':' + tDateMin;\n            } else {\n                tmpTimeDisplay = tDateHr + ':' + tDateMin + ':' + tDateSec;\n            }\n\n            this.setState({ tTimeDisplay: tmpTimeDisplay });\n            // this.setState({ tTimeDisplay: tDateHr + ':' + tDateMin + ':' + (tDateSec < 10 ? '0' : '') + tDateSec })\n            // this.setState({ tTimeDisplay: 'S:' + parseInt(tDateDiff/1000).toString() })\n        }\n    }\n    componentDidMount() {\n        // Should there be a 'clearInterval' prior to setting a new one (same as what is run in 'componentWillUnmount')?\n            // Although I know it's not in the instance state anymore (that's been replaced),\n            // but is the previous setInterval still counting in memory?\n        this.setState({ interval: window.setInterval(this.tick, 1000) });\n    }\n    componentWillUnmount() {\n        clearInterval(this.state.interval);\n    }\n    render() {\n        return (\n            <span className=\"nowrap\">{this.state.tTimeDisplay.length > 0 ? 'T-' + this.state.tTimeDisplay : ''}</span>\n        );\n    }\n}\n\nexport default TimeDisplay;","import * as React from 'react';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCoffee } from '@fortawesome/free-solid-svg-icons';\n\nimport TimeDisplay from './TimeDisplay';\n\ninterface EntryProps {\n    id: number;\n    title: string;\n    timeOfDay: string;\n    cycle: number;\n    active: boolean;\n}   // from TimerBox: interface TimerListInterface {}\n\ninterface TimeoutListState {\n    id: number;\n    timer: number;\n}\n\ninterface TimerDisplayListState {\n    id: number;\n    destination: number;\n}\n\ninterface TimerProps {\n    entry: EntryProps;\n    timeoutList: TimeoutListState[];                  // A list of active timers -- with Timeout ID: { id: 0, timer: 0 }\n    timerDisplayList: TimerDisplayListState[];        // 1-second timeouts that update set (stateless) <TimeDisplay />s.\n    entryCycleList: string[];                         // ['daily','hourly','every minute'],\n    showSeconds: boolean;\n    toggleTimeout: (timerId: number, onOff: string) => void;    // toggleTimeout(timerId: number, onOff: string) {\n    removeTimer: (timerId: number) => void;                     // removeTimer(timerId: number) {\n}\n\nclass Timer extends React.Component<TimerProps, {}> {\n    constructor(props: TimerProps) {\n        super(props);\n        this.toggleTimeout = this.toggleTimeout.bind(this);\n        this.removeTimer = this.removeTimer.bind(this);\n        this.toggleTimeout = this.toggleTimeout.bind(this);\n        this.removeTimer = this.removeTimer.bind(this);\n    }\n    toggleTimeout() {\n        this.props.toggleTimeout(this.props.entry.id, this.props.entry.active ? 'off' : 'on');\n    }\n    removeTimer() {\n        this.props.removeTimer(this.props.entry.id);\n    }\n    render() {\n        // const { Glyphicon } = ReactBootstrap\n\n        const timeoutEntry = this.props.timeoutList.find( (elem) => elem.id === this.props.entry.id),\n              timerDisplayEntry = (timeoutEntry) ? this.props.timerDisplayList.find(\n                  (elem: {id: number}) => elem.id === timeoutEntry.timer) : null,\n              timeDisplay = (timerDisplayEntry) ? timerDisplayEntry.destination : 0,\n              timerIsX2b = this.props.entry.title.substr(0, 4) === 'x2b-',\n              timerTitleDone = (\n                    <small style={{ opacity: 0.5 }}>This is a&nbsp;\n                        <a\n                            href=\"https://kdcinfo.github.io/done-for-now/\"\n                            target=\"kdcNewWindow\"\n                            // style={{ opacity: 0.5 }}\n                        >Done (for now)\n                        </a> timer\n                    </small>\n                );\n        let timerTDs;\n\n        if (timerIsX2b) {\n            timerTDs = (\n                <React.Fragment>\n                    <td>{this.props.entry.title}</td>\n                    <td>{this.props.entry.timeOfDay}</td>\n                    <td className=\"hidden\">{this.props.entryCycleList[this.props.entry.cycle]}</td>\n                </React.Fragment>\n            );\n        } else {\n            timerTDs = (\n                <React.Fragment>\n                    <td>{this.props.entry.title}</td>\n                    <td colSpan={2}>{timerTitleDone}</td>\n                </React.Fragment>\n            );\n        }\n\n// const { username, url } = this.propos.gist,\n//       userurl = (url === noGistMsg) ? noGistMsg : <a href={}>{}</a>;\n\n        const glyphElement = <FontAwesomeIcon icon={faCoffee} />;\n\n        return (\n            <tr>\n                {timerTDs}\n                <td className=\"hidden text-center\">\n                    <input\n                        onChange={this.toggleTimeout}\n                        type=\"checkbox\"\n                        value={this.props.entry.id}\n                        checked={this.props.entry.active}\n                    />\n                </td>\n                <td className=\"text-center\">\n                    <TimeDisplay targetTime={timeDisplay} showSeconds={this.props.showSeconds} />\n                </td>\n                <td className=\"hidden\">\n                    <button\n                        className=\"btn btn-xs\"\n                        onClick={this.removeTimer}\n                    >\n                        {glyphElement}\n                    </button>\n                </td>\n            </tr>\n        );\n    }\n}\n\nexport default Timer;","import * as React from 'react';\n\nimport { Table } from 'react-bootstrap';\n\nimport Timer from './Timer';\n\ninterface TimerListState {\n    id: number;\n    title: string;\n    timeOfDay: string;\n    cycle: number;\n    active: boolean;\n}\n\ninterface TimeoutListState {\n    id: number;\n    timer: number;\n}\n\ninterface TimerDisplayListState {\n    id: number;\n    destination: number;\n}\n\ninterface TimersProps {\n    removeTimer: (timerId: number) => void;                  // removeTimer(timerId: number) {\n    toggleTimeout: (timerId: number, onOff: string) => void; // toggleTimeout(timerId: number, onOff: string) {\n    timerList: TimerListState[];\n    timeoutList: TimeoutListState[];\n    timerDisplayList: TimerDisplayListState[];\n    entryCycleList: string[];\n    showSeconds: boolean;\n}\n\ninterface TimersState {\n    showAppLinks: string;\n}\n\nclass Timers extends React.Component<TimersProps, TimersState> {\n    constructor(props: TimersProps) {\n        super(props);\n        this.state = {\n            showAppLinks: ''\n        };\n        this.toggleOurApps = this.toggleOurApps.bind(this);\n    }\n    toggleOurApps() {\n        let newShowStat = (this.state.showAppLinks.length === 0) ? ' showdown' : '';\n        this.setState({ showAppLinks: newShowStat });\n    }\n    render() {\n        if (this.props.timerList.length > 0) {\n            return (\n                <div className=\"timers-div\">\n                    <Table responsive={true}>\n                        <thead>\n                            <tr>\n                                <th><span>Internal Alarm ID </span>\n                                    <sup className=\"ourAppsTrigger\" onClick={this.toggleOurApps}>?</sup>\n                                    <div className={'ourAppsDisplay' + this.state.showAppLinks}>\n                                        <div>\n                                            <span>\n                                                <a\n                                                    href=\"https://KDCinfo.github.io/expired-to-be-spa/\"\n                                                    onClick={(e) => { e.preventDefault(); return false; }}\n                                                >Expired To Be\n                                                </a> (Alarms)\n                                            </span><br/>\n                                            <span>\n                                                <a\n                                                    href=\"https://kdcinfo.github.io/done-for-now/\"\n                                                    target=\"kdcNewWindow\"\n                                                >Done (for now)\n                                                </a> (Timers)\n                                            </span>\n                                        </div>\n                                    </div>\n                                </th>\n                                <th>Notify Time</th>\n                                <th className=\"hidden\">Cycle</th>\n                                <th className=\"hidden\">On/Off</th>\n                                <th className=\"text-center\">Hrs:Mins Left</th>\n                                <th className=\"hidden\">Del</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            { this.props.timerList.map( (entry, idx: number) =>\n                                <Timer\n                                    key={idx}\n                                    entry={entry}\n                                    timeoutList={this.props.timeoutList}\n                                    timerDisplayList={this.props.timerDisplayList}\n                                    entryCycleList={this.props.entryCycleList}\n                                    toggleTimeout={this.props.toggleTimeout}\n                                    removeTimer={this.props.removeTimer}\n                                    showSeconds={this.props.showSeconds}\n                                />\n                            )}\n                        </tbody>\n                    </Table>\n                </div>\n            );\n        } else {\n            return (\n                <div className=\"timer-list-no-alarms\">You have no active alarms...</div>\n            );\n        }\n    }\n}\n\nexport default Timers;","import * as React from 'react';\n\nimport { Button, Modal } from 'react-bootstrap';\n\ninterface TimerListProps {\n    id: number;\n    title: string;\n    presetTargetTime: number;\n    timeOfDay: string;\n    cycle: number;\n    active: boolean;\n}\n\ninterface ModalProps {\n    timerList: TimerListProps[];\n    snoozeTime: number; // stateSnoozeTime,\n    entryCycleList: string[];\n    show: boolean;\n    modalTitle: string;\n    modalTimerId: number;\n    alarmMsg: string;\n    timerSnooze: (entryId: number) => void;\n    timerReset: (entryId: number) => void;\n    timerDisable: (entryId: number) => void;\n    resetModal: () => void;\n}\n\nclass TimerAlertPrompt extends React.Component<ModalProps, {}> {\n\n   // export default class TimerAlertPrompt extends React.Component {}\n        // https://cdnjs.cloudflare.com/ajax/libs/react/15.5.4/react.min.js\n        // https://cdnjs.cloudflare.com/ajax/libs/react/15.5.4/react-dom.min.js\n        // https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.24.0/babel.min.js\n\n        // https://cdnjs.cloudflare.com/ajax/libs/react-bootstrap/0.31.0/react-bootstrap.js\n        // import { Modal, Button, Glyphicon } from 'react-bootstrap'\n\n    constructor(props: ModalProps) {\n        super(props);\n\n        this.timerSnooze = this.timerSnooze.bind(this);\n        this.timerReset = this.timerReset.bind(this);\n        this.timerDisable = this.timerDisable.bind(this);\n    }\n    shouldComponentUpdate(nextProps: any, nextState: any) {\n        return this.props !== nextProps;\n    }\n    timerSnooze() {\n        this.props.timerSnooze(this.props.modalTimerId);\n\n        // @TODO: Disable should delete alarm when it's tied to an Expiration item, and not a Timer.\n\n    }\n    timerReset() {\n        this.props.timerReset(this.props.modalTimerId);\n    }\n    timerDisable() {\n        this.props.timerDisable(this.props.modalTimerId);\n    }\n    render() {\n        // const { show, user, hideDelete, userDelete } = this.props;\n        // const Modal = ReactBootstrap.Modal\n        // const Button = ReactBootstrap.Modal\n        // const Glyphicon = ReactBootstrap.Modal\n        // const { Modal, Button, Glyphicon } = 'react-bootstrap'\n        // const { Modal, Button } = ReactBootstrap\n        const { show, modalTitle } = this.props;\n\n        // id, timeOfDay, cycleName\n\n        let cycleName = '',\n            timerEntryTime = '',\n            isTimer = false,\n            nowModalTitle = modalTitle;\n\n        const timerEntry = this.props.timerList.find( (elem) => (elem.id === this.props.modalTimerId) );\n\n        if (timerEntry) {\n            timerEntryTime = timerEntry.timeOfDay;\n            cycleName = this.props.entryCycleList[timerEntry.cycle];\n            if (timerEntry.presetTargetTime === 0) {\n                isTimer = true;\n            } else {\n                nowModalTitle = this.props.alarmMsg;\n            }\n        }\n\n        const DivTitle = () => (\n                <div className=\"modal-title\">{nowModalTitle}</div>\n              ),\n              DivSubtitle = () => (\n                <div className=\"modal-subtitle\">[{timerEntryTime}]&nbsp;[{cycleName}]</div>\n              ),\n              ButtonSnooze = () => (\n                <Button onClick={this.timerSnooze} variant=\"warning\">\n                    Snooze <small><small>({this.props.snoozeTime} min)</small></small>\n                </Button>\n              ),\n              ButtonDoneForNow = () => {\n                return (\n                    <Button onClick={this.timerReset} variant=\"success\">\n                        Done <small><small>(for now)</small></small>\n                    </Button>\n                );\n              },\n              ButtonCloseModal = () => {\n                return (\n                    <Button onClick={this.props.resetModal} variant=\"success\">\n                        Expiration Alert!\n                    </Button>\n                );\n              },\n              ButtonDisable = () => (\n                <Button onClick={this.timerDisable} variant=\"primary\">\n                    Disable\n                </Button>\n              );\n\n        const modalProps = {\n            show: show,\n            className: 'modal-alert',\n            onHide: () => undefined,\n        };\n        return (\n            <Modal {...modalProps}>\n                <Modal.Body>\n                    {isTimer ? (<ButtonSnooze />) : null}\n                    {isTimer ? (<DivTitle />) : null}\n                    {isTimer ? (<ButtonDoneForNow />) : null}\n                    {isTimer ? null : (<ButtonCloseModal />)}\n                    {isTimer ? (<DivSubtitle />) : null}\n                    {isTimer ? (<ButtonDisable />) : null}\n                </Modal.Body>\n            </Modal>\n        );\n    }\n}\n\nexport default TimerAlertPrompt;","import * as React from 'react';\n\nimport { Row, Col } from 'react-bootstrap';\n\nimport { getStorageItem, setStorageItem } from '../utilities/alarm-functions';\n\nimport SettingsForm from './SettingsForm';\nimport SnoozeForm from './SnoozeForm';\nimport Timers from './Timers';\nimport TimerAlertPrompt from './TimerAlertPrompt';\n\n/**\n * [TimerBox] Alarm API Usage Details:\n *\n * https://github.com/KDCinfo/expired-to-be-spa/src\n *\n */\n\n/**\n *\n * All [TypeScript Interfaces] are at the bottom of this file.\n *\n */\n\nclass TimerBox extends React.Component<TimerBoxProps, TimerBoxState> {\n    constructor(props: TimerBoxProps) {\n        super(props);\n\n        const // timeToMidnight = new Date().setHours(24,0,0,0) - new Date().getTime(), // Milliseconds to midnight\n              storedSnoozeTime = getStorageItem(localStorage, 'snoozeTime'),\n              stateSnoozeTime = storedSnoozeTime ? parseInt(storedSnoozeTime, 10) : 60 * 24, // 60 min * 24 hr = 1 day\n              storedShowSeconds = getStorageItem(localStorage, 'showSeconds'),\n              stateShowSeconds = storedShowSeconds ? (storedShowSeconds.toLocaleLowerCase() === 'true') : false,\n              storedTimerList = getStorageItem(localStorage, 'timerList'),\n              stateTimerList = (storedTimerList) ? JSON.parse(storedTimerList) : [];\n\n        this.state = {\n            timerList: stateTimerList,  // A list of timers:\n                                        //     { id: 0, title: '',\n                                        //       presetTargetTime: 0, timeOfDay: '00:00', cycle: 0 }\n            timeoutList: [],            // A list of active timers -- with Timeout ID: { id: 0, timer: 0 }\n                                        // Also includes a list of 'display timers' (sibling setTimeouts).\n            timeoutQueue: [],           // A list of completed timeouts going through the 'modal' process.\n            timerDisplayList: [],       // 1-second timeouts that update set (stateless) <TimeDisplay />s.\n            titleCount: 25,\n            titleTemp: 'Watch my show!',\n            countHours: 24,\n            countMinutes: 60,\n            stepCountMinutes: 5,\n            snoozeTime: stateSnoozeTime,\n            entryCycleList: ['daily', 'hourly', 'every minute'],\n            showModal: false,\n            modalTitle: '',\n            modalTimerId: -1,\n            showSeconds: stateShowSeconds,\n            currentTimerId: 0,\n            alarmMsg: 'An alarm has expired.',\n            timeoutMax: 2073600000 // 2073600000 ms = 576 hours = 24 days (Tested with: 15 * 1000)\n        };\n\n        this.setSnooze = this.setSnooze.bind(this);\n        this.setTimer = this.setTimer.bind(this);\n        this.setTimerCallback = this.setTimerCallback.bind(this);\n        this.updateTimer = this.updateTimer.bind(this);\n        this.addRemoveTimeout = this.addRemoveTimeout.bind(this);\n        this.toggleTimeout = this.toggleTimeout.bind(this);\n        this.removeTimer = this.removeTimer.bind(this);\n        this.getLastId = this.getLastId.bind(this);\n        this.deleteTimeout = this.deleteTimeout.bind(this);\n        this.createTimeout = this.createTimeout.bind(this);\n        this.timerSnooze = this.timerSnooze.bind(this);\n        this.timerReset = this.timerReset.bind(this);\n        this.timerDisable = this.timerDisable.bind(this);\n        this.showNotification = this.showNotification.bind(this);\n        this.getTimeDiff = this.getTimeDiff.bind(this);\n        this.getTimeDiffUpdate = this.getTimeDiffUpdate.bind(this);\n        this.addToTimeoutQueue = this.addToTimeoutQueue.bind(this);\n        this.removeFromTimeoutQueue = this.removeFromTimeoutQueue.bind(this);\n        this.checkTimeoutQueue = this.checkTimeoutQueue.bind(this);\n        this.setNotification = this.setNotification.bind(this);\n        this.resetModal = this.resetModal.bind(this);\n    }\n    initializeState() {\n        // Create new 'timeoutList' from stored 'timerList'\n            // Go through each [timerList] entry and, if 'active', execute addRemoveTimeout(entryId, 'add')\n\n        const storedTimerList = getStorageItem(localStorage, 'timerList'),\n              stateTimerList = (storedTimerList) ? JSON.parse(storedTimerList) : [];\n\n        // 'this.state.timeoutList' should already be empty [] ( per constructor's this.state = {} )\n        // 'this.state.timeoutQueue' should already be empty [] ( per constructor's this.state = {} )\n\n        if (stateTimerList.length > 0) {\n\n            this.props.setAlarms(stateTimerList);\n\n            stateTimerList.forEach( (elem: {id: number, active: boolean, timeOfDay?: string}) => {\n                if (elem.active === true && (typeof(elem.timeOfDay) !== 'undefined')) {\n                    window.setTimeout(                              // Was using `global.setTimeout` (for TS).\n                        () => {                                     // Switched to `window.` for consistency.\n                            this.addRemoveTimeout(elem.id, 'init'); // When these are not staggered, only one\n                        },                                          // shows in the 'timerDisplay' code/layout.\n                        0                                           // setTimeout({}, 0) fixes this by pushing\n                    );                                              // each call to the end of the call stack.\n                }\n            });\n        }\n    }\n    componentDidMount() {\n        this.initializeState();\n    }\n    componentDidUpdate(prevProps: any) {\n        if (prevProps.ourExpirationItems.length > 0) {\n\n            if (prevProps.ourExpirationItems[0].expiredId !== this.state.currentTimerId) {\n                const nPxId = prevProps.ourExpirationItems[0].expiredId;\n\n                this.setState({ currentTimerId: nPxId }, () => {\n                    this.handleAppUpdate();\n                });\n            }\n        } else {\n            this.setState({ currentTimerId: 0 });\n        }\n    }\n    // componentWillReceiveProps(nextProps: any) {\n\n    //     if (nextProps.ourExpirationItems.length > 0) {\n\n    //         if (nextProps.ourExpirationItems[0].expiredId !== this.state.currentTimerId) {\n    //             const nPxId = nextProps.ourExpirationItems[0].expiredId;\n\n    //             this.setState({ currentTimerId: nPxId }, () => {\n    //                 this.handleAppUpdate();\n    //             });\n    //         }\n    //     } else {\n    //         this.setState({ currentTimerId: 0 });\n    //     }\n    // }\n    shouldComponentUpdate(nextProps: any, nextState: any) {\n\n        if (nextProps.ourExpirationItems.length > 0) {\n\n            return (\n                this.state.currentTimerId === 0 || // this.state.currentTimerId === -1 ||\n                this.state.currentTimerId !== nextProps.ourExpirationItems[0].expiredId\n            );\n        } else {\n\n            return this.props !== nextProps ||\n                   this.state.showModal !== nextState.showModal ||\n                   this.state.timeoutList !== nextState.timeoutList;\n        }\n    }\n    handleAppUpdate() {\n\n        if (this.props.ourExpirationItems.length > 0) {\n\n            const { whichEvent, expiredId } = this.props.ourExpirationItems[0];\n\n            let useEvent = whichEvent,\n                internalUseId = 0,\n                internalTimerItem = this.state.timerList.find(\n                    item => parseInt(item.title.substr(4), 10) === expiredId\n                ),\n                entryTitle = '',\n                entryPresetTargetTime = 0,\n                entryHours = 0,\n                entryMinutes = 0,\n                entryCycle = 0;\n\n            if (internalTimerItem) {\n                internalUseId = internalTimerItem.id;\n            }\n\n            if (useEvent === 'add') {\n                // const { entryTitle, entryHours, entryMinutes, entryCycle } = this.props.ourExpirationItems[0];\n                entryTitle = this.props.ourExpirationItems[0].entryTitle;\n                entryPresetTargetTime = this.props.ourExpirationItems[0].entryPresetTargetTime;\n                entryHours = this.props.ourExpirationItems[0].entryHours;\n                entryMinutes = this.props.ourExpirationItems[0].entryMinutes;\n                entryCycle = this.props.ourExpirationItems[0].entryCycle;\n                if (internalTimerItem) {\n                    useEvent = 'update';\n                }\n            }\n\n            // console.log('[handleUpdate] printing... ', whichEvent, expiredId, this.props.ourExpirationItems);\n            // items[] = { whichEvent: 'add|update|remove', expiredId: 0, [expiredWait: #days, expiredSnooze: 1] }\n            //\n            // [entryTitle] is The glue between your [App] and [TimerBox]. 3 char + hyphen + whole number\n            //\n                // whichEvent: \"add\"        // add|remove|update\n                // expiredId: 2             // \\/`^~---> Ties to [entryTitle]\n                // entryTitle: \"x2b-2\"      // !!important\n                // entryPresetTargetTime: 0 // target date in milliseconds\n                // entryHours: 552          // [0|24|48|...] // 552 / 24 = 23 (days)\n                // entryMinutes: 0\n                // entryCycle: 0            // 0: daily // @TODO: allow to override snooze; off|on[daily|hourly]\n\n            switch (useEvent) {\n                case 'add':\n                    this.setTimer( entryTitle, entryPresetTargetTime, entryHours, entryMinutes, entryCycle );\n                    break;\n\n                case 'update':\n                    this.updateTimer(internalUseId,\n                                     entryTitle,\n                                     entryPresetTargetTime,\n                                     entryHours,\n                                     entryMinutes,\n                                     entryCycle);\n                    break;\n\n                case 'remove':\n                    this.removeTimer( internalUseId );\n                    break;\n\n                case 'clearall':\n                    this.removeAllTimers();\n                    break;\n\n                default:\n                    // console.log('handleUpdate: switch: default (purportedly not used)'); // Debugging is done in Dev.\n            }\n        }\n    }\n\n    updateTimer(entryId: number,\n                entryTitle: string,\n                entryPresetTargetTime: number,\n                entryHours: number,\n                entryMinutes: number,\n                entryCycle: number) {\n        let newTimerList = this.state.timerList;\n\n        const entryHoursPad = entryHours < 10 ? '0' + entryHours : entryHours,\n              entryMinutesPad = entryMinutes < 10 ? '0' + entryMinutes : entryMinutes,\n              newItem = {\n                id: entryId,\n                title: entryTitle,\n                presetTargetTime: entryPresetTargetTime,\n                timeOfDay: entryHoursPad + ':' + entryMinutesPad,\n                cycle: entryCycle,\n                active: true\n              },\n              internalTimerItemIdx = newTimerList.findIndex(\n                item => item.id === entryId\n              );\n\n        newTimerList.splice(internalTimerItemIdx, 1, newItem);\n\n        this.setState({ timerList: newTimerList }, () => {\n            setStorageItem(localStorage, 'timerList', JSON.stringify(newTimerList));\n            this.updateTimerCallback(entryId);\n            this.props.setAlarms(this.state.timerList);\n        });\n    }\n    setTimer(entryTitle: string,\n             entryPresetTargetTime: number,\n             entryHours: number,\n             entryMinutes: number,\n             entryCycle: number ) {\n\n        const entryHoursPad = entryHours < 10 ? '0' + entryHours : entryHours,\n              entryMinutesPad = entryMinutes < 10 ? '0' + entryMinutes : entryMinutes,\n              lastIdx = this.getLastId(),\n              nextId = this.state.timerList.length === 0 ? 0 : (lastIdx + 1),\n              timerList = this.state.timerList.concat({\n                  id: nextId,\n                  title: entryTitle,\n                  presetTargetTime: entryPresetTargetTime,\n                  timeOfDay: entryHoursPad + ':' + entryMinutesPad,\n                  cycle: entryCycle,\n                  active: false\n              });\n\n        this.setState({ timerList }, () => {\n            setStorageItem(localStorage, 'timerList', JSON.stringify(timerList));\n            this.setTimerCallback();\n            this.props.setAlarms(this.state.timerList);\n        });\n    }\n    removeAllTimers() {\n\n        let newTimerList = this.state.timerList.slice();\n\n        newTimerList = newTimerList.filter( timerItem => {\n            this.toggleTimeout(timerItem.id, 'off');\n            return timerItem.title.substr(0, 4) !== 'x2b-';\n        });\n\n        this.setState({ timerList: newTimerList }, () => {\n\n            setStorageItem(localStorage, 'timerList', JSON.stringify(newTimerList));\n\n            this.props.setAlarms(this.state.timerList);\n            this.props.refreshAlarms();\n        });\n    }\n    removeTimer(timerId: number, refreshList?: boolean) {\n\n        let newTimerList = this.state.timerList;\n\n        const timerIdx = newTimerList.findIndex(item => item.id === timerId);\n\n        if (timerIdx >= 0) {\n\n            newTimerList.splice(timerIdx, 1);\n\n            this.setState({ timerList: newTimerList }, () => {\n\n                setStorageItem(localStorage, 'timerList', JSON.stringify(newTimerList));\n                this.toggleTimeout(timerId, 'off');\n\n                if (refreshList === true) {\n                    this.props.setAlarms(this.state.timerList);\n                    this.props.refreshAlarms();\n                }\n            });\n        }\n    }\n    addRemoveTimeout(timerId: number, whichTask: string) {\n        // This method has 2 entry points:\n            // initializeState()  // ID is passed in (for each Timer item)\n            // toggleTimeout()    // ID is passed in\n\n        const entryId = timerId;\n\n        if (whichTask === 'remove') {\n            this.deleteTimeout(entryId);        //                    setTimeout delay is...\n\n        } else if (whichTask === 'update') {\n            this.updateTimeout(entryId);        // no 2nd param       (...based on current time)\n\n        } else if (whichTask === 'snooze') {\n            this.updateTimeout(entryId, true);  // 2nd param = snooze (...set based on state.snoozeTime)\n\n        } else { // add | init\n            this.createTimeout(entryId);        //                    (...set based on <form> submit values & cur time)\n        }\n    }\n    deleteTimeout(entryId: number, clearall?: boolean) {\n        // This method has 1 entry point:\n            // addRemoveTimeout()\n\n        let newTimeoutList = this.state.timeoutList.slice(),\n            newTimerDisplayList = this.state.timerDisplayList,\n            timeoutTimerId: number;\n\n        // timeoutList[] will have 2 entries for each timeout\n            // [\n            //     {id: 0, timer: 15}, <-- Modal-prompt setTimeout ('pop-up alerts')\n            //     {id: 0, timer: 24}, <-- Every-second setTimeout ('visual counter')\n            //     {id: 1, timer: 32}, <-- Modal-prompt setTimeout\n            //     {id: 1, timer: 45}  <-- Every-second setTimeout\n            // ]\n\n        newTimeoutList.forEach( (elem: {id: number, timer: number}, idx: number) => {\n            if (elem.id === entryId) {\n                timeoutTimerId = elem.timer;\n                newTimeoutList.splice(idx, 1);\n                window.clearTimeout(elem.timer);\n            }\n        });\n        this.setState({timeoutList: newTimeoutList});\n\n        // timerDisplayList[]\n            // [\n            //     {id: 24, destination: targetDateInMilliseconds}, <--\n            //     {id: 45, destination: targetDateInMilliseconds}  <--\n            // ]\n                    // 'id' is this sibling timeout's Timer ID;\n                    // 'destination' is current date/time plus timeDiff\n\n        newTimerDisplayList.forEach( (elem: {id: number}, idx: number) => {\n            if (elem.id === timeoutTimerId) {\n                newTimerDisplayList.splice(idx, 1);\n                window.clearTimeout(timeoutTimerId);\n            }\n        });\n        this.setState({ timerDisplayList: newTimerDisplayList });\n    }\n    createTimeout(entryId: number) {\n        // This method has 2 entry points:\n            // addRemoveTimeout()\n            // addToTimeoutQueue()\n\n        const newTimerList = this.state.timerList,\n              timerEntry = newTimerList.find(                     // To satisfy TS: An exclamation is added to .find()!\n                (elem: {id: number}) => (elem.id === entryId) )!, // Method not called unless `timerList` is populated.\n              timerPresetTargetTime = timerEntry.presetTargetTime,\n              timerHour = parseInt(timerEntry.timeOfDay.split(':')[0], 10),\n              timerMinute = parseInt(timerEntry.timeOfDay.split(':')[1], 10),\n              timerCycle = timerEntry.cycle;\n\n        let newTimeoutList = this.state.timeoutList,\n            newTimerDisplayList = this.state.timerDisplayList,\n            newTimeout,\n            newTimeoutEntry,\n            newTimerDisplayEntry,\n            targetTime,\n            thisTimeDiff = 0,\n            thisTimeDiffMax = 0;\n\n        // If `timerPresetTargetTime` is > 0, use that as your target instead.\n        thisTimeDiff = (timerPresetTargetTime === 0) ?\n                        this.getTimeDiff(timerHour, timerMinute, timerCycle) :\n                        timerPresetTargetTime - Date.now();\n                        // getTimeDiff: Returns milliseconds between [current time] & [current time + set time + cycle]\n\n        // https://stackoverflow.com/questions/16314750 ...\n            // ^-... /settimeout-fires-immediately-if-the-delay-more-than-2147483648-milliseconds\n            // Per that page: The upper limit of setTimeout is 0x7FFFFFFF (or 2147483647 in decimal)\n            // setTimeout has a 32-bit limit of:\n            //     2147483647 ms = 596.52323528 h = 24.8333 days\n            // 2073600000 ms = 576 hours = 24 days\n        thisTimeDiffMax = (thisTimeDiff > this.state.timeoutMax) ? this.state.timeoutMax : thisTimeDiff;\n\n        // `setTimeout` function will subtract current time from target time and use as ({setTimeout's}, wait) time.\n\n        newTimeout = window.setTimeout(\n            () => {\n                // Add to timeoutQueue\n                    // 1. Add to queue[] (array) when setTimeout time is up;\n                    // 2. Remove from queue[] when closing modal;\n                    // 3. Run queueCheck() to see if any others have entered since modal was up.\n                this.addToTimeoutQueue(entryId);\n            },\n            thisTimeDiffMax\n        );\n\n        // this.state.timerDisplayList[]\n            // [\n            //     {id: 24, destination: now + timeDiff}, <-- 'destination' date/time minus current date/time\n            //     {id: 45, destination: now + timeDiff}  <-- 'destination' date/time minus current date/time\n            // ]\n\n        targetTime = (Date.now() + thisTimeDiff);\n        newTimerDisplayEntry = { id: newTimeout, destination: targetTime };\n        newTimerDisplayList = newTimerDisplayList.concat(newTimerDisplayEntry);\n        this.setState({ timerDisplayList: newTimerDisplayList });\n\n        // timeoutList[] will have 2 entries for each timeout\n            // [\n            //     {id: 0, timer: 15}, <-- Modal-prompt setTimeout ('pop-up alerts')\n            //     {id: 0, timer: 24}, <-- Every-second setTimeout ('visual counter')\n            //     {id: 1, timer: 32}, <-- Modal-prompt setTimeout\n            //     {id: 1, timer: 45}  <-- Every-second setTimeout\n            // ]\n\n        newTimeoutEntry = { id: entryId, timer: newTimeout };\n        newTimeoutList = newTimeoutList.concat(newTimeoutEntry);\n        this.setState({ timeoutList: newTimeoutList });\n    }\n    updateTimeout(entryId: number, isSnooze?: boolean) {\n        // This method has 2 calls from 1 entry point:\n            // addRemoveTimeout()\n\n        let thisTimeDiffUpdate = 0,\n            thisTimeoutWait = 0,\n            thisTimeoutWaitMax = 0;\n\n        const newTimerList = this.state.timerList,\n              timerEntry = newTimerList.find(\n                  (elem: {id: number}) => (elem.id === entryId)\n              )!, // Per TS: Method not called unless `timerList` is populated\n              timerPresetTargetTime = timerEntry.presetTargetTime,\n              timerHour = parseInt(timerEntry.timeOfDay.split(':')[0], 10),\n              timerMinute = parseInt(timerEntry.timeOfDay.split(':')[1], 10),\n              timerCycle = timerEntry.cycle;\n\n        // If `timerPresetTargetTime` is > 0, use that as your target instead.\n        thisTimeDiffUpdate = (timerPresetTargetTime === 0) ?\n                                this.getTimeDiff(timerHour, timerMinute, timerCycle) :\n                                timerPresetTargetTime - Date.now();\n\n        thisTimeoutWait =\n            (isSnooze) ? (this.state.snoozeTime * 60 * 1000) :\n            thisTimeDiffUpdate;\n\n        // 2073600000 ms = 576 hours = 24 days\n        thisTimeoutWaitMax = (thisTimeoutWait > this.state.timeoutMax) ? this.state.timeoutMax : thisTimeoutWait;\n\n        let newTimeoutList = this.state.timeoutList,\n            newTimeout: number,\n            tmpTimerOldId: number;\n\n        // Find existing timer and clear it.\n        for (let i = 0; i < newTimeoutList.length; i++) {\n            if (newTimeoutList[i].id === entryId) {\n                tmpTimerOldId = newTimeoutList[i].timer;\n                clearTimeout(tmpTimerOldId); // Must clear the timeout (cannot rely on it being overwritten.)\n                break;\n            }\n        }\n\n        newTimeout = window.setTimeout(\n            () => { this.addToTimeoutQueue(entryId); },\n            thisTimeoutWaitMax\n        );\n\n        // UPDATE TIMEOUT LIST\n\n        // Update an Object's properties from within an Array\n        newTimeoutList = newTimeoutList.map( (elem: {id: number, timer: number}, idx: number) => {\n            if (elem.id === entryId) {\n                elem.timer = newTimeout;\n            }\n            return elem;\n        });\n        this.setState({ timeoutList: newTimeoutList });\n\n        let newTimerDisplayList = this.state.timerDisplayList,\n            targetTime: number;\n\n        // UPDATE VISUAL COUNTDOWN LIST\n\n        targetTime = (Date.now() + thisTimeoutWait);\n\n        newTimerDisplayList = newTimerDisplayList.map( (elem: {id: number, destination: number}) => {\n            if (elem.id === tmpTimerOldId) {\n                elem.id = newTimeout;\n                elem.destination = targetTime;\n            }\n            return elem;\n        });\n        this.setState({ timerDisplayList: newTimerDisplayList });\n    }\n    addToTimeoutQueue(entryId: number) {\n\n        // Check `entryId` to see if item still has more time remaining. If so, run another .setTimeout()\n        // (This is done due to the setTimeout's 32-bit (e.g., 24 day) limit.)\n\n        const timerEntry = this.state.timerList.find(\n                  (elem: {id: number}) => (elem.id === entryId)\n              )!,\n              timerPresetTargetTime = timerEntry.presetTargetTime,\n              timerHour = parseInt(timerEntry.timeOfDay.split(':')[0], 10),\n              timerMinute = parseInt(timerEntry.timeOfDay.split(':')[1], 10),\n              timerCycle = timerEntry.cycle;\n\n        let thisTimeoutWait = 0,\n            thisTimeoutWaitMax = 0;\n\n        // If `timerPresetTargetTime` is > 0, use that as your target instead.\n        thisTimeoutWait = (timerPresetTargetTime === 0) ?\n                                this.getTimeDiff(timerHour, timerMinute, timerCycle) :\n                                timerPresetTargetTime - Date.now();\n\n        // 2073600000 ms = 576 hours = 24 days\n        thisTimeoutWaitMax = (thisTimeoutWait > this.state.timeoutMax) ? this.state.timeoutMax : thisTimeoutWait;\n\n        // console.log('addToTimeoutQueue: ', thisTimeoutWaitMax, timerEntry);\n        // This console.log helped debug the last error:\n            // Modal not immediately removing timeout, and 'existing expired timeouts' aren't coded for on page init.\n            // Solution: Expire it (the timeOut in the Modal trigger) like the others!\n\n        if (thisTimeoutWaitMax > 0) {\n\n            // It would seem a 24-day `setTimeout()` expired. (This is setTimeout's max timeout period.)\n            // We'll need to run a new setTimeout with a new wait time.\n\n            this.createTimeout(entryId);\n            // this.updateTimeout(entryId); // Timeout has expired and been removed; Nothing to update.\n\n        } else {\n\n            // Let it run its Notification routine to notify the user.\n\n            let tmpTimeoutQueue = this.state.timeoutQueue;\n            tmpTimeoutQueue.push(entryId);\n            this.setState({timeoutQueue: tmpTimeoutQueue}, this.checkTimeoutQueue);\n        }\n    }\n    removeFromTimeoutQueue(entryId: number) {\n        let tmpTimeoutQueue = this.state.timeoutQueue;\n\n        tmpTimeoutQueue.forEach( (elem: number, idx: number) => {\n            if (elem === entryId) {\n                tmpTimeoutQueue.splice(idx, 1);\n            }\n        });\n        this.setState({timeoutQueue: tmpTimeoutQueue}, this.checkTimeoutQueue);\n    }\n    checkTimeoutQueue() {\n        // get queue, get first[0] id in queue\n        // set [state]modal contents (which will show modal with showModal: true)\n\n        let tmpTimeoutQueue = this.state.timeoutQueue;\n\n        if (tmpTimeoutQueue.length > 0) {\n            this.setNotification(tmpTimeoutQueue[0]);\n        }\n    }\n    setNotification(entryId: number) {\n        const timerEntry = this.state.timerList.find(\n                  (entry: {id: number}) => (entry.id === entryId)\n              )!; // For TS: Method not called unless `timerList` is populated.\n\n        if (timerEntry) {\n            this.setState(\n                {\n                    modalTitle: timerEntry.title,\n                    modalTimerId: timerEntry.id\n                },\n                () => this.showNotification(entryId)\n            );\n        }\n    }\n    protected getTimeDiffUpdate(tHour: number, tMinute: number, timerCycle: number): number {\n\n        let tmpDate = new Date(),\n            timerDate = tmpDate.getDate(),\n            timerHour = tHour,\n            timerMinute = tMinute,\n            addDate = 0,\n            addHours = 0,\n            addMinutes = 0,\n            nowDate,\n            nowSetTime,\n            futureSetTime,\n            timeToSetAhead = 0;\n\n        const currentMinutes = tmpDate.getMinutes();\n\n        tmpDate.setMilliseconds(0);\n        tmpDate.setSeconds(0);\n\n            // 'cycle' === '0: daily'\n            // 'cycle' === '1: hourly'\n            // 'cycle' === '2: minute'\n\n        if (timerCycle === 0) {\n            // tmpDate.setDate(tmpDate.getDate() + 1)\n\n            tmpDate.setMinutes(timerMinute, 0, 0);\n            tmpDate.setHours(timerHour);\n\n            if (timerDate === tmpDate.getDate()) {              // 15 = 15\n                addDate = 1;\n            } else {                                            // If not equal, just add a day to current day\n                addDate = tmpDate.getDate() + 1;\n            }\n\n        } else if (timerCycle === 1) {\n            // tmpDate.setHours(tmpDate.getHours() + 1)\n\n            // tH   cH -- (tH: timeoutHour, cH: currentHour)\n            // 18 < 00 -- addHours = 24 + (timerMHour - tmpDate.getMHours()) + 1\n            // 18 = 01 -- addHours = 1\n            // 18 > 00 -- addHours = (timerMHour - tmpDate.getMHours()) + 1\n\n            tmpDate.setMinutes(timerMinute, 0, 0); // I believe this just zeros it out, and doesn't inc/dec hours.\n\n            if (timerMinute <= currentMinutes) {\n\n                // if (timerHour < tmpDate.getHours()) {                   // 18 < 21 | 1 < 2\n                // } else if (timerHour === tmpDate.getHours()) {          // 18 = 18\n                // } else if (timerHour > tmpDate.getHours()) {            // 18 > 15 | 2 > 1\n                //     // addHours = (timerHour - tmpDate.getHours()) + 1\n                // }\n                addHours = 1;\n            }\n\n        } else if (timerCycle === 2) {\n            // tmpDate.setMinutes(tmpDate.getMinutes() + 1)\n\n            addMinutes = 1;\n        }\n\n        tmpDate.setMinutes(tmpDate.getMinutes() + addMinutes);\n        tmpDate.setHours(tmpDate.getHours() + addHours);\n        tmpDate.setDate(tmpDate.getDate() + addDate);\n\n        futureSetTime = tmpDate.getTime();           // Future milliseconds\n\n        nowDate = new Date();\n        nowSetTime = nowDate.getTime();              // Current milliseconds\n\n        timeToSetAhead = futureSetTime - nowSetTime;\n            // Future milliseconds - now() milliseconds +> Target Hours +> Target Minutes\n\n        return timeToSetAhead;\n    }\n    protected getTimeDiff(tHour: number, tMinute: number, timerCycle: number) {\n\n        let timerHour = tHour,\n            timerMinute = tMinute,\n            tmpDate = new Date(),\n            addMinutes = 0,\n            addHours = 0,\n            nowDate,\n            nowSetTime,\n            futureSetTime,\n            timeToSetAhead = 0;\n\n        const currentMinutes = tmpDate.getMinutes();\n\n        tmpDate.setMilliseconds(0);\n        tmpDate.setSeconds(0);\n\n        // 'cycle' === '0: daily'\n        // 'cycle' === '1: hourly'\n        // 'cycle' === '2: minute'\n\n        if (timerMinute < tmpDate.getMinutes()) {               // :30 < :45 | 19 < 20 | 59\n\n            addMinutes = 60 + (timerMinute - tmpDate.getMinutes());\n\n        } else if (timerMinute === tmpDate.getMinutes()) {      // :30 = :30\n\n            if (timerCycle === 0 || timerCycle === 1) {\n                addMinutes = 0;\n            } else {\n                addMinutes = 1;\n            }\n\n        } else if (timerMinute > tmpDate.getMinutes()) {        // :30 > :15\n\n            addMinutes = (timerMinute - tmpDate.getMinutes());\n        }\n\n        tmpDate.setMinutes(tmpDate.getMinutes() + addMinutes);\n\n        if (timerHour < tmpDate.getHours()) {                   // 18 < 21\n\n            addHours = 24 + (timerHour - tmpDate.getHours());\n\n        } else if (timerHour === tmpDate.getHours()) {          // 18 = 18 | 3 = (2 + 1)\n\n            // console.log('[...]', timerMinute, '<=', tmpDate.getMinutes(), '<=', currentMinutes)\n            // ^---< was having trouble per testing note 3 lines down : Determined bad comparison\n\n            //                         tT      cT\n            // 31 \"<=\" 32 \"|\" 1  ===  3:31 <= 2:32  ===\n\n            if (timerMinute === currentMinutes) {\n                // Changed from [tmpDate.getMinutes()] to [currentMinutes]\n                    // Due to test: (current time) 03:52 ==> (target time) 03:53\n                    // 1 minute ahead resulted in (+1 hour +1 minute) ahead\n\n                if (timerCycle === 0) {\n                    addHours = 24;\n                } else if (timerCycle === 1) {\n                    addHours = 0;\n                } else {\n                    addHours = 0;\n                }\n            } else {\n                addHours = 0;\n            }\n\n        } else if (timerHour > tmpDate.getHours()) {            // 18 > 15\n\n            addHours = (timerHour - tmpDate.getHours());\n        }\n\n        addHours += timerHour;\n\n        tmpDate.setHours(tmpDate.getHours() + addHours);\n\n        futureSetTime = tmpDate.getTime();                      // Future milliseconds\n\n        nowDate = new Date();\n\n            // nowDate.setMilliseconds(0)\n                // Don't need to zero this out.\n\n            // nowDate.setSeconds(0)\n                // Don't zero\n                // Use current seconds to allow for 'same-minute' execution\n                // I.e., if timer is set within the current minute,\n                    // but current time is 30 seconds before the target 'timerMinute',\n                    // it'll wait that first 30 seconds... not a minute and 30 seconds.\n\n        nowSetTime = nowDate.getTime();              // Current milliseconds\n\n        timeToSetAhead = futureSetTime - nowSetTime;\n            // Future milliseconds - now() milliseconds +> Target Hours +> Target Minutes\n\n            // [getTimeDiff] AAA double-check with ZZZ (below) 24 0 0 0\n            // [getTimeDiff] tmpDate PRE seconds set           Wed Jul 12 2017 00:24:54 GMT-0700 (Pacific Daylight Time)\n            // [getTimeDiff] tmpDate POST seconds set          Wed Jul 12 2017 00:24:00 GMT-0700 (Pacific Daylight Time)\n            // [getTimeDiff] addMinutes                    36  Wed Jul 12 2017 01:00:00 GMT-0700 (Pacific Daylight Time)\n            // [getTimeDiff] addHours                      23  Thu Jul 13 2017 00:00:00 GMT-0700 (Pacific Daylight Time)\n            // [getTimeDiff] ZZZ Double check same as AAA      24 0 0 0\n            // [tmpDate]                                       Thu Jul 13 2017 00:00:00 GMT-0700 (Pacific Daylight Time)\n            // [nowDate]                                       Wed Jul 12 2017 00:24:54 GMT-0700 (Pacific Daylight Time)\n            // [nowSetTime]                                    1499844294219\n            // [futureSetTime]                                 1499929200000\n            // [timeToSetAhead]                                84905781\n\n        return timeToSetAhead;\n    }\n    toggleTimeout(timerId: number, onOff: string) {\n        // This method has 4 entry points:\n            // setTimerCallback()       // ID is highest\n            // <Timer /> checkbox       // ID is passed in\n            // <TimerBox /> alert Modal // ID from Modal: (timerReset && timerSnooze) (callbacks)\n\n        if (onOff === 'on') {                           // <Form /> Add -> setTimer() -> setTimerCallback()\n            this.addRemoveTimeout(timerId, 'add');\n        } else if (onOff === 'off') {                   // timerList[] -> <Timer /> -> checkbox\n            this.addRemoveTimeout(timerId, 'remove');\n        } else if (onOff === 'snooze') {                // <Modal /> -> Snooze\n            this.addRemoveTimeout(timerId, 'snooze');\n        } else {                                        // <Modal /> -> Done (for now)\n            this.addRemoveTimeout(timerId, 'update');\n        }\n\n        // Update Global Timer List - Set timer on/off (active/non-active)\n            // Timer checkbox display (in Timer Listing)\n            //\n        if (onOff !== 'update' && onOff !== 'snooze') {\n            // Added this condition because don't think we need to run this entire section of code if it's an 'update'\n            // ('active' state should already be 'true' -- Just need to update the timer's new Timout ID)\n\n            const newTimerList = this.state.timerList.map( (elem, idx: number) => {\n                    if (elem.id === timerId) {\n                        elem.active = (onOff === 'on') ? true : false;\n                        // elem.active = (onOff === 'on' || onOff === 'update') ? true : false\n                    }\n                    return elem;\n                  });\n\n            this.setState({ timerList: newTimerList }, () => {\n                setStorageItem(localStorage, 'timerList', JSON.stringify(newTimerList));\n                this.props.setAlarms(this.state.timerList);\n            });\n        }\n    }\n    timerSnooze(entryId: number) {\n        //\n        this.setState({ showModal: false }, () => { // This will turn off the modal,\n            this.removeFromTimeoutQueue(entryId);   //  then remove the entry from the timeoutQueue.\n            this.toggleTimeout(entryId, 'snooze');  //  then this will setup a new setTimeout, which, when done, will\n                                                    //  add this entry back into the timeoutQueue\n\n                                                    // This should be run after the removal of the entry from the\n                                                    // timeoutQueue (else it'll remove this entry).\n\n                                                    // This should not pose an issue unless the setTimeout execution is\n                                                    // less than the few milliseconds it takes for the\n                                                    // 'removeFromTimeoutQueue()' method above to remove it\n                                                    // from the queue first.\n        });\n    }\n    timerReset(entryId?: number) {\n        //\n        const thisEntryId = entryId || this.state.modalTimerId;\n\n        this.setState({ showModal: false }, () => {     // This will turn off the modal,\n            this.removeFromTimeoutQueue(thisEntryId);   // then remove the entry from the timeoutQueue.\n\n            let thisElem = this.state.timerList.find(elem => elem.id === thisEntryId)!;\n\n            if (thisElem.presetTargetTime === 0) {  // For Timer items (no preset time)\n\n                this.toggleTimeout(thisEntryId, 'update');  // this will setup a new setTimeout, which, when done,\n                                                            // will add this entry back into the timeoutQueue\n\n                                                    // This should be run after the removal of the entry from the\n                                                    // timeoutQueue (else it'll remove this entry).\n\n                                                    // This should not pose an issue unless the setTimeout execution is\n                                                    // less than the few milliseconds it takes for the\n                                                    // 'removeFromTimeoutQueue()' method above to remove it\n                                                    // from the queue first.\n            } else {\n\n                this.removeTimer(thisEntryId, true);\n            }\n        });\n    }\n    timerDisable(entryId: number) {\n        // This was refactored at some point.\n        // Should be able to point the JSX callbacks to `timerReset` directly.\n        this.timerReset(entryId);\n    }\n    setSnooze(snoozeTime: number) {\n        //\n        this.setState(\n            { snoozeTime: snoozeTime },\n            () => {\n                setStorageItem(localStorage, 'snoozeTime', snoozeTime.toString());\n            }\n        );\n    }\n    showNotification(entryId: number) {\n\n        // When 'Expired To Be' is used as a Chrome extension, it uses the `chrome.alarms` API.\n\n        // Notification Options\n        // [ ] alerts\n        // [ ] notifications\n        // [ ] modals (passive)\n        // [ ] none\n        // all include:\n            // change tab: title\n            // change tab: icon\n\n        this.props.updatePassiveNotification();\n\n        if (this.props.prefs.prefNotification === 'modals') {\n            this.timerReset(entryId);\n\n            // @TOCHECK: This \"could\" throw an error. [Follow-up: It did.]\n            // Could not get `timerReset` to work with 'alerts' and 'notifications'\n            // when setting `timerReset` inside their callbacks (as 'modals' does).\n            // A check for 'active -but- expired' timeouts isn't done on page init.\n            this.setState({ showModal: true });\n\n        } else if (this.props.prefs.prefNotification === 'alerts') {\n            this.timerReset(entryId);\n\n            setTimeout(\n                () => {\n                    alert(this.state.alarmMsg);\n                },\n                100);\n\n        } else if (this.props.prefs.prefNotification === 'notifications') {\n            this.timerReset(entryId);\n\n            // Resetting timer first, so no use for a callback (below). Tried setting\n            // `timerReset` inside the callback, but it didn't like it much (although\n            // it could have been due to @DEBUG `getBetween` being manually set to 1).\n            this.props.triggerAlarm(entryId);\n            // @MOVED: Catch Resolve and Reject\n\n            // this.props.triggerAlarm(entryId).then( result => {\n            //     console.log('triggerAlarm: ', result);\n            //     // @TOMAYBE: Only reset if \"OK\" was clicked (not the 'X')\n            // });\n\n        } else {\n            // None\n            this.timerReset(entryId);\n        }\n    }\n    resetModal() {\n        this.setState({ showModal: false });\n    }\n    render() {\n        const SettingsFormProps = {\n                titleCount: this.state.titleCount,\n                titleTemp: this.state.titleTemp,\n                countHours: this.state.countHours,\n                countMinutes: this.state.countMinutes,\n                stepCountMinutes: this.state.stepCountMinutes,\n                entryCycleList: this.state.entryCycleList,\n                setTimer: this.setTimer,\n              },\n              sClass1 = `field-col settings-form-col `,\n              sClass2 = `${this.props.prefs.allowTimers === false && 'hidden'}`,\n              sClass = sClass1 + sClass2;\n\n        if (this.props.prefs.showPanel === true) {\n            return (\n                <div>\n                    <main className=\"content\">{this.props.children}\n                        <Row className={'show-grid'}>\n                            <Col\n                                xs={12}\n                                sm={5}\n                                md={5}\n                                className={sClass}\n                            >\n                                <SettingsForm {...SettingsFormProps} />\n                            </Col>\n                            <Col\n                                xs={{ offset: 1, span: 10 }}\n                                sm={{ span: 7 }}\n                                md={{ span: 7 }}\n                                // xsOffset={1} xs={10}\n                                // smOffset={0} sm={7}\n                                // md={7}\n                                className={`field-col timer-list`}\n                                // className={`field-col timer-list ${this.state.timerList.length === 0 && 'hidden'}`}\n                            >\n                                <Timers\n                                    removeTimer={this.removeTimer}\n                                    toggleTimeout={this.toggleTimeout}\n                                    timerList={this.state.timerList}\n                                    timeoutList={this.state.timeoutList}\n                                    timerDisplayList={this.state.timerDisplayList}\n                                    entryCycleList={this.state.entryCycleList}\n                                    showSeconds={this.state.showSeconds}\n                                />\n                            </Col>\n                        </Row>\n                        <ul className={sClass}>\n                            <li className=\"padTopLi2\">\n                                <span className=\"timer-options\">[Setting]</span>&nbsp;\n                                Snooze delay time (in minutes; for future snoozes):&nbsp;\n                                <SnoozeForm snoozeTime={this.state.snoozeTime} setSnooze={this.setSnooze} />\n                            </li>\n                            <li className=\"padTopLi\">\n                                When a timer is created, the timer will be initially set to\n                                the next available time from when the time is set based on the 'cycle' selection.\n                            </li>\n                        </ul>\n                        <TimerAlertPrompt\n                            show={this.state.showModal}\n                            timerList={this.state.timerList}\n                            entryCycleList={this.state.entryCycleList}\n                            modalTimerId={this.state.modalTimerId}\n                            modalTitle={this.state.modalTitle}\n                            timerReset={this.timerReset}\n                            timerDisable={this.timerDisable}\n                            timerSnooze={this.timerSnooze}\n                            snoozeTime={this.state.snoozeTime}\n                            alarmMsg={this.state.alarmMsg}\n                            resetModal={this.resetModal}\n                            // hideDelete={false}\n                            // userDelete={this.userDelete}\n                        />\n                    </main>\n                </div>\n            );\n        } else {\n            return (\n                <div>\n                    <TimerAlertPrompt\n                        show={this.state.showModal}\n                        timerList={this.state.timerList}\n                        entryCycleList={this.state.entryCycleList}\n                        modalTimerId={this.state.modalTimerId}\n                        modalTitle={this.state.modalTitle}\n                        timerReset={this.timerReset}\n                        timerDisable={this.timerDisable}\n                        timerSnooze={this.timerSnooze}\n                        snoozeTime={this.state.snoozeTime}\n                        alarmMsg={this.state.alarmMsg}\n                        resetModal={this.resetModal}\n                        // hideDelete={false}\n                        // userDelete={this.userDelete}\n                    />\n                </div>\n            );\n        }\n    }\n    private getLastId() {\n        const lastId = this.state.timerList.reduce(\n            (agg: number, curObj: {id: number}) => (curObj.id > agg) ? curObj.id : agg, 0 );\n\n        return lastId;\n    }\n    private setTimerCallback() {\n        const lastId = this.getLastId();\n        this.toggleTimeout(lastId, 'on'); // 'addRemoveTimeout' is called from 'toggleTimeout'\n    }\n    private updateTimerCallback(entryId: number) {\n        this.toggleTimeout(entryId, 'update'); // 'addRemoveTimeout' is called from 'toggleTimeout'\n    }\n}\n\n/*\n * INTERFACES\n */\ninterface TimerListState {\n    id: number;\n    title: string;\n    presetTargetTime: number;\n    timeOfDay: string;\n    cycle: number;\n    active: boolean;\n}\n\ninterface TimeoutListState {\n    id: number;\n    timer: number;\n}\n\ninterface TimerDisplayListState {\n    id: number;\n    destination: number;\n}\n\ninterface TimerBoxState {\n    timerList: TimerListState[];               // A list of timers:\n                                               //     { id: 0, title: '', presetTargetTime: 0,\n                                               //       timeOfDay: '00:00', cycle: 0 }\n    timeoutList: TimeoutListState[];           // A list of active timers -- with Timeout ID: { id: 0, timer: 0 }\n                                               // timeoutList[] will have 2 entries for each timeout\n                                               // [\n                                               //     {id: 0, timer: 15}, <-- Modal-prompt setTimeout ('pop-up alerts')\n                                               //     {id: 0, timer: 24}, <-- Every-second setTimeout ('visual counter')\n                                               //     {id: 1, timer: 32}, <-- Modal-prompt setTimeout\n                                               //     {id: 1, timer: 45}  <-- Every-second setTimeout\n                                               // ]\n    timeoutQueue: number[];                    // A list of completed timeouts going through the 'modal' process.\n    timerDisplayList: TimerDisplayListState[]; // 1-second timeouts that update set (stateless) <TimeDisplay />s.\n                                               // timerDisplayList[]\n                                               // --> 'id' is this sibling timeout's Timer ID;\n                                               //     'destination' is current date/time plus timeDiff\n                                               // [\n                                               //     {id: 24, destination: targetDateInMilliseconds},\n                                               //     {id: 45, destination: targetDateInMilliseconds}\n                                               // ]\n    titleCount: number;                         // 20,\n    titleTemp: string;                          // 'Watch my show!',\n    countHours: number;                         // 24,\n    countMinutes: number;                       // 60,\n    stepCountMinutes: number;                   // 5,\n    snoozeTime: number;                         // stateSnoozeTime,\n    entryCycleList: string[];                   // ['daily','hourly','every minute'],\n    showModal: boolean;                         // false,\n    modalTitle: string;                         // '',\n    modalTimerId: number;                       // '',\n    showSeconds: boolean;                       // stateShowSeconds,\n    currentTimerId: number;\n    alarmMsg: string;                           // Default message for alarms.\n    timeoutMax: number;                         // 24 days is setTimeout's 32-bit max.\n}\n\ninterface TimerBoxProps {\n    ourExpirationItems: ExpirationItems[];\n    setAlarms: (stateTimerList: TimerListState[]) => void;\n    refreshAlarms: () => void;\n    prefs: Prefs;\n    triggerAlarm: (timerId: number) => void;    // Promise<string>;\n    updatePassiveNotification: () => void;      // Update browser tab icon and title.\n    // resetPassiveNotification: () => void;    // Reset browser tab icon and title.\n}\n\ninterface ExpirationItems {\n    whichEvent: string;   // \"add\"\n    expiredId: number;    // 2\n    entryTitle: string;   // \"x2b-2\"\n    entryPresetTargetTime: number; // 0 || milliseconds to target date's midnight.\n    entryHours: number;   // 552   // [0|24|48|...] // 552 / 24 = 23 (days)\n    entryMinutes: number; // 0\n    entryCycle: number;   // 0     // 0: daily // @TODO: allow to override snooze; off|on[daily|hourly]\n}\n\ninterface Prefs {\n    showPanel: boolean;\n    allowTimers: boolean;\n    prefNotification: string; // 'modals', 'alerts', 'notifications', 'none'\n}\n\nexport default TimerBox;","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport './index.css';\n\n// // // // // // // // // //\n// [TimerBox.js]\n//\nimport TimerBox from './components/TimerBox';\n\n/**\n * [TimerBox] Alarm API Usage Details:\n *\n * https://github.com/KDCinfo/expired-to-be-spa/src\n *\n */\n\n/**\n *\n * All [TypeScript Interfaces] are at the bottom of this file.\n *\n */\n\nclass App extends React.Component<AppProps, {}> {\n\n  render() {\n    return (\n      <div className=\"appz\">\n        <TimerBox\n          ourExpirationItems={this.props.ourExpirationItems}\n          setAlarms={this.props.setAlarms}\n          refreshAlarms={this.props.refreshAlarms}\n          prefs={this.props.prefs}\n          triggerAlarm={this.props.triggerAlarm}\n          updatePassiveNotification={this.props.updatePassiveNotification}\n        />\n      </div>\n    );\n  }\n}\n\n// `reRender` is to paint the TimerBox; initially and post-alarm actions.\n(window as any).reRender = () => {\n    ReactDOM.render(\n      <App\n        ourExpirationItems={(window as any).ourExpirations.currentItems()}\n        setAlarms={(window as any).ourExpirations.setAlarms}\n        refreshAlarms={(window as any).ourExpirations.refreshAlarms}\n        prefs={(window as any).ourExpirations.getPrefs()}\n        triggerAlarm={(window as any).ourExpirations.triggerAlarm}\n        updatePassiveNotification={(window as any).ourExpirations.updatePassiveNotification}\n      />,\n      document.getElementById('root') as HTMLElement\n    );\n};\n\n// `getPopup` will render the Chrome extension's HTML, then it will load the extension's JS script file.\nconst getPopup = () => {\n  let domApplyTo = document.getElementById('web-root') as HTMLElement;\n\n  async function fetchAsync(getUrl: string) {\n    let response = await fetch(getUrl, { method: 'GET' });\n    let data = await response.text();\n    return data;\n  }\n\n  const initParser = new DOMParser(),\n        nowGetScript = () => {\n          let popupScript = document.createElement('script');\n          // popupScript.src = '%PUBLIC_URL%/extensions/chrome/popup.js';\n          popupScript.src = 'extensions/chrome/popup.js';\n          popupScript.async = false;                        // This is on purpose; we need this available immediately.\n          domApplyTo.appendChild(popupScript);              // console.log('popup.js is here.');\n        },\n        nowGetPrefsScript = () => {\n          let popupPrefsScript = document.createElement('script');\n          popupPrefsScript.src = 'extensions/chrome/x2b-prefs.js';\n          popupPrefsScript.async = false;                   // This is on purpose; we need this available immediately.\n          domApplyTo.appendChild(popupPrefsScript);         // console.log('popup.js is here.');\n        },\n        nowGetAboutMenu = () => {\n          let domTopBoxH1 = document.querySelector('#topBox h1') as HTMLElement,\n              domTopBoxH1Parent = domTopBoxH1.parentNode as HTMLElement,\n              aboutMenu = `<div id=\"webapp-help\">\n                  <button type=\"button\" id=\"button-toggle-webapp-help\">About this App</button>\n                  <div id=\"app-message\">\n                    <p>This web app allows for the setting and reminders for 'things that expire'.</p>\n                    <p>In order for the alarm notifications to work, this browser tab should remain open;\n                      but you can continue your browsing activities in other tabs.</p>\n                    <p>If you would prefer to always have it on without having to keep a browser tab open,\n                      you can also run this as a <a\n                        href=\"https://chrome.google.com/webstore/detail/expired-to-be/kamjiblbgmiobifooelpmlkojmadmcan\"\n                      >Chrome browser extension</a>.</p>\n                  </div>\n                </div>`,\n              docAbout = initParser.parseFromString(aboutMenu, 'text/html');\n              // 00 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789|\n\n          domTopBoxH1Parent.insertBefore(\n            docAbout.getElementById('webapp-help') as HTMLElement,\n            domTopBoxH1.nextSibling);\n        },\n        applyPrefs = () => {\n          let x2bApplyTo = document.querySelector('.input-options') as HTMLElement;\n\n          fetchAsync('extensions/chrome/x2b-prefs.html').then( prefData => {\n            const prefsData = prefData.trim(),\n                  docPrefs = initParser.parseFromString(prefsData, 'text/html'),\n                  div1 = docPrefs.querySelectorAll('.x2b')[0],\n                  div2 = docPrefs.querySelectorAll('.x2b')[1];\n\n            x2bApplyTo.appendChild(div1);\n            x2bApplyTo.appendChild(div2);\n\n            // These 2 function calls are both synchronous.\n            nowGetPrefsScript();\n            nowGetAboutMenu();\n\n            // console.log('The End. Now for...');\n            // (window as any).reRender(); // Update the Timer App to reflect any new Timers.\n            // ^ This was moved to [x2b-prefs.js] `if (!isEmpty(storedExpiredPrefs)) else...`\n            // A `reRender` cannot happen until [x2b-prefs.js] is loaded; when prefs are set.\n            // Otherwise, alarms will trigger prior to notification preferences being loaded.\n\n          }).catch( e => {\n            console.log('And the --X2B-- catch(e) error is:');\n            console.error(e);\n          });\n        };\n\n  fetchAsync('extensions/chrome/popup.html').then( data => {\n    const dataLeftIdx = data.indexOf('<body>') + 6,\n          dataRightIdx = data.indexOf('<script') - 1,\n          newData = data.substring(dataLeftIdx, dataRightIdx).trim();\n\n    let doc = initParser.parseFromString(newData, 'text/html');\n              // returns an HTMLDocument, which is a Document.\n\n    domApplyTo.appendChild(doc.querySelector('div') as HTMLElement); // console.log('popup.html is here');\n\n    nowGetScript();\n    applyPrefs();\n\n  }).catch( e => {\n    console.log('And the catch(e) error is:');\n    console.error(e);\n  });\n};\n\n// Initial painting of TimerBox App.\n// (window as any).reRender(); // Moved to [x2b-prefs.js] `if (!isEmpty(storedExpiredPrefs)) else ...`\n\n// TimerBox is our (non-Chrome extension) 'Alarms API': We need to let the `reRender` of the TimerBox\n// DOM painting clear the call stack before launching our 'Expired To Be' HTML and its related script.\n//\n// For this, neither `DOMContentLoaded` nor 'window.onload' sufficed, as neither always triggered.\n// document.addEventListener('DOMContentLoaded', (window as any).getPopup, false);\nsetTimeout( () => {\n              getPopup();\n            },\n            100);\n\n/**\n * INTERFACES\n */\ninterface TimerListState {\n  id: number;\n  title: string;\n  presetTargetTime: number;\n  timeOfDay: string;\n  cycle: number;\n  active: boolean;\n}\n\ninterface AppProps {\n  ourExpirationItems: ExpirationItems[];\n  setAlarms: () => TimerListState[];\n  refreshAlarms: () => void;\n  prefs: Prefs;\n  triggerAlarm: (timerId: number) => Promise<string>;\n  updatePassiveNotification: () => void;\n}\n\ninterface ExpirationItems {\n  whichEvent: string;   // whichEvent: \"add\"\n  expiredId: number;    // expiredId: 2\n  entryTitle: string;   // entryTitle: \"x2b-2\"\n  entryPresetTargetTime: number; // 0 or positive futuer date in milliseconds\n  entryHours: number;   // entryHours: 552  // [0|24|48|...] // 552 / 24 = 23 (days)\n  entryMinutes: number; // entryMinutes: 0\n  entryCycle: number;   // entryCycle: 0    // 0: daily // @TODO: allow to override snooze; off|on[daily|hourly]\n}\n\ninterface Prefs {\n  prefHours: number;\n  prefMins: number;\n  prefNotification: string;\n  showPanel: boolean;\n  allowTimers: boolean;\n}\n"],"sourceRoot":""}